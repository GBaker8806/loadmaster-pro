<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loadmaster Pro: Winching</title>
  <style>
    body {
      background-color: #121212;
      color: #e0e0e0;
      font-family: 'Segoe UI', sans-serif;
      padding: 1rem;
    }
    label {
      margin-top: 1rem;
      display: block;
      font-weight: 500;
    }
    select, input, button {
      width: 100%;
      padding: 0.75rem;
      margin-top: 0.25rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      border: 1px solid #444;
      background-color: #1e1e1e;
      color: #fff;
      font-size: 1rem;
    }
    button {
      background-color: #1f6f8b;
      font-weight: bold;
      transition: 0.3s;
    }
    button:hover {
      background-color: #3e8eaa;
    }
    #result {
      margin-top: 1rem;
      padding: 1rem;
      background-color: #1e1e1e;
      border-left: 4px solid #99e1d9;
      border-radius: 8px;
      font-weight: bold;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h1>Loadmaster Pro: Winching</h1>
  <label for="surfaceType">Surface Type:</label>
  <select id="surfaceType">
    <option value="Pneumatic Tires">Pneumatic Tires</option>
    <option value="Tracks">Tracks</option>
    <option value="Steel/Hard Rubber Wheels">Steel/Hard Rubber Wheels</option>
    <option value="Roller Conveyors">Roller Conveyors</option>
    <option value="Greased Shoring">Greased Shoring</option>
    <option value="Dry Shoring">Dry Shoring</option>
    <option value="Skids on Non-Skid">Skids on Non-Skid</option>
    <option value="Non-Skid Surface">Non-Skid Surface</option>
  </select>

  <label for="rampAngle">Ramp Angle:</label>
  <select id="rampAngle">
    <option value="0">Level Ramp (0°)</option>
    <option value="3.8">Long ADS with Plugs (3.8°)</option>
    <option value="5">Long ADS Only (5°)</option>
    <option value="15">Normal Ramp / Toes Down (15°)</option>
  </select>

  <label for="cargoWeight">Cargo Weight (lbs):</label>
  <input type="number" id="cargoWeight" placeholder="e.g., 15000" />

  <button onclick="calculateWinching()">Calculate Winching Limit</button>
  <div id="result"></div>

  <script>
    const winchData = {
      "Pneumatic Tires":     [250000, 60038, 49281, 20000],
      "Tracks":              [93750, 51426, 44996, 22303],
      "Steel/Hard Rubber Wheels": [416667, 58358, 46699, 17729],
      "Roller Conveyors":    [375000, 87250, 70146, 26947],
      "Greased Shoring":     [28846, 23043, 21679, 14701],
      "Dry Shoring":         [15306, 13513, 13043, 10241],
      "Skids on Non-Skid":   [9202, 8529, 8345, 7168],
      "Non-Skid Surface":    [7500, 7049, 6925, 6122]
    };

    const rampMap = {
      "0": 0,
      "3.8": 1,
      "5": 2,
      "15": 3
    };

    function calculateWinching() {
      const surface = document.getElementById("surfaceType").value;
      const angle = document.getElementById("rampAngle").value;
      const weight = parseFloat(document.getElementById("cargoWeight").value);
      const resultEl = document.getElementById("result");

      if (!surface || !angle || isNaN(weight) || weight <= 0) {
        resultEl.innerText = "⚠️ Please enter valid input values.";
        return;
      }

      const limits = winchData[surface];
      const index = rampMap[angle];
      const maxAllowable = limits[index];

      const resultText = 
`Surface Type: ${surface}
Ramp Angle: ${document.getElementById("rampAngle").selectedOptions[0].text}
Cargo Weight: ${weight.toLocaleString()} lbs
Max Allowable (1 Line Pull): ${maxAllowable.toLocaleString()} lbs

${weight <= maxAllowable ? "✅ Within Limits" : "❌ Exceeds Limits – Use Additional Lines or Reconfigure"}`;

      resultEl.innerText = resultText;
    }
  </script>
</body>
</html>
